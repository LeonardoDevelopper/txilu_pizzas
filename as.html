html
Copy code
<!DOCTYPE html>
<html>
<head>
  <title>Exemplo de Traçar Rota Gratuita com Leaflet e OSRM</title>
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" />
  <style>
    #map {
      height: 500px;
    }
  </style>
  <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>
</head>
<body>
  <div id="map"></div>

  <script>
    function toRadians(degrees) {
  return degrees * Math.PI / 180;
}

function haversineDistance(lat1, lon1, lat2, lon2) {
  const earthRadius = 6371; // raio médio da Terra em quilômetros

  const dLat = toRadians(lat2 - lat1);
  const dLon = toRadians(lon2 - lon1);

  const a = Math.sin(dLat / 2) * Math.sin(dLat / 2) +
            Math.cos(toRadians(lat1)) * Math.cos(toRadians(lat2)) *
            Math.sin(dLon / 2) * Math.sin(dLon / 2);
  
  const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));
  
  const distance = earthRadius * c;
  return distance;
}

// Exemplo de uso
const lat1 = 52.5200;
const lon1 = 13.4050;
const lat2 = 48.8566;
const lon2 = 2.3522;

const distancia = haversineDistance(lat1, lon1, lat2, lon2);
console.log("Distância:", distancia.toFixed(2), "quilômetros");

  </script>
</body>
</html>